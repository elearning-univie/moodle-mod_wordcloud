define("mod_wordcloud/addwordtowordcloud",["exports","jquery","core/ajax","core/notification","core/modal_factory","core/str"],(function(_exports,_jquery,_ajax,_notification,_modal_factory,_str){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_jquery=_interopRequireDefault(_jquery),_ajax=_interopRequireDefault(_ajax),_notification=_interopRequireDefault(_notification),_modal_factory=_interopRequireDefault(_modal_factory);_exports.init=(refreshtime,aid,timestamphtml)=>{(0,_jquery.default)("#mod-wordcloud-new-word").keypress((function(e){13===e.keyCode&&(0,_jquery.default)("#mod-wordcloud-btn").click()})),_jquery.default.mod_wordcloud_add_word=function(){var word=(0,_jquery.default)("#mod-wordcloud-new-word").val();word.trim()&&_ajax.default.call([{methodname:"mod_wordcloud_add_word",args:{aid:aid,word:word},done:function(returnval){returnval.cloudhtml?((0,_jquery.default)("#mod-wordcloud-words-box").html(returnval.cloudhtml),(0,_jquery.default)("#mod-wordcloud-new-word").val("")):_modal_factory.default.create({type:_modal_factory.default.types.CANCEL,title:(0,_str.get_string)("warning","mod_wordcloud"),body:returnval.warnings[0].message}).then((function(modal){modal.show()}))},fail:_notification.default.exception}])},setInterval((function(){_ajax.default.call([{methodname:"mod_wordcloud_get_words",args:{aid:aid,timestamphtml:timestamphtml},done:function(returnval){returnval.cloudhtml&&((0,_jquery.default)("#mod-wordcloud-words-box").html(returnval.cloudhtml),timestamphtml=returnval.timestamphtml)},fail:_notification.default.exception}])}),1e3*refreshtime)}}));

//# sourceMappingURL=addwordtowordcloud.min.js.map