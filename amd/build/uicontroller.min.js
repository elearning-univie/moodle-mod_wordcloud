define("mod_wordcloud/uicontroller",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.initlistener=_exports.init=void 0;const mod_wordcloud_set_height=()=>{const wb=document.getElementById("mod-wordcloud-div"),divheight=wb.offsetHeight;let newwidth=0;newwidth=divheight<300?50:divheight<500?65:divheight<700?80:100,window.innerWidth>900&&(""==wb.style.width||newwidth>parseInt(wb.style.width))&&(wb.style.width=newwidth+"%")},mod_wordcloud_export_listener=()=>{var exportmenu=document.getElementById("mod-wordcloud-export-menu");exportmenu.onchange=function(){var selectedval=this.options[this.selectedIndex].value;"png"==selectedval?window.modWordcloudPic():window.open(selectedval,"_blank"),exportmenu.selectedIndex=0}};_exports.initlistener=()=>{mod_wordcloud_export_listener()};_exports.init=colors=>{const targetnode=document.getElementById("mod-wordcloud-words-box");new MutationObserver((mutationList=>{for(const mutation of mutationList)"childList"===mutation.type&&mod_wordcloud_set_height()})).observe(targetnode,{childList:!0});var stylerules="",editCSS=document.createElement("style");if(6==colors.length){for(let i=colors.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[colors[i],colors[j]]=[colors[j],colors[i]]}for(let i=1;i<=colors.length;i++)stylerules+=".path-mod-wordcloud .w"+i+" {color: #"+colors[i-1]+";} \n"}else if(1==colors.length){var[h,s,l]=(color=>{var[r,g,b]=color.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((m,r,g,b)=>"#"+r+r+g+g+b+b)).substring(1).match(/.{2}/g).map((x=>parseInt(x,16)));r/=255,g/=255,b/=255;var h,s,max=Math.max(r,g,b),min=Math.min(r,g,b),l=(max+min)/2;if(max==min)h=s=0;else{var d=max-min;switch(s=l>=.5?d/(2-(max+min)):d/(max+min),max){case r:h=60*((g-b)/d+0);break;case g:h=60*((b-r)/d+2);break;case b:h=60*((r-g)/d+4)}}return[Math.round(h),Math.round(100*s),Math.round(100*l)]})(colors[0]),nextstep=8;l=30;for(let i=1;i<7;i++)stylerules+=".path-mod-wordcloud .w"+i+" {color: hsl("+h+", "+s+"%, "+l+"%);} \n",l+=nextstep,nextstep++}editCSS.innerHTML=stylerules,document.head.appendChild(editCSS),document.getElementById("mod-wordcloud-view-menu").onchange=function(){window.location.href=this.options[this.selectedIndex].value},mod_wordcloud_export_listener(),mod_wordcloud_set_height(),document.getElementById("mod-wordcloud-div").style.visibility="visible"}}));

//# sourceMappingURL=uicontroller.min.js.map